\chapter{Architecture }
\hypertarget{md_docs_2_architecture}{}\label{md_docs_2_architecture}\index{Architecture@{Architecture}}
\label{md_docs_2_architecture_autotoc_md28}%
\Hypertarget{md_docs_2_architecture_autotoc_md28}%


This document describes the current (high-\/level) structure of the project and how the main game objects interact.

\DoxyHorRuler{0}
\hypertarget{md_docs_2_architecture_autotoc_md30}{}\doxysection{\texorpdfstring{Core Classes}{Core Classes}}\label{md_docs_2_architecture_autotoc_md30}
\hypertarget{md_docs_2_architecture_autotoc_md31}{}\doxysubsection{\texorpdfstring{{\ttfamily Base\+Character}}{{\ttfamily Base\+Character}}}\label{md_docs_2_architecture_autotoc_md31}
A common base class for any character-\/like entity in the game (player and enemies). Typical responsibilities include\+:


\begin{DoxyItemize}
\item Shared character data (position, movement, animation state, alive state, etc.)
\item Core per-\/frame update hooks (e.\+g., {\ttfamily tick(float delta\+Time)})
\item Common drawing helpers / helpers related to world-\/vs-\/screen positioning
\end{DoxyItemize}

\begin{quote}
{\bfseries{Note\+:}} The exact responsibilities depend on your implementation, but the goal is to avoid duplicating logic between {\ttfamily \doxylink{class_character}{Character}} and {\ttfamily \doxylink{class_enemy}{Enemy}}. \end{quote}
\hypertarget{md_docs_2_architecture_autotoc_md32}{}\doxysubsection{\texorpdfstring{{\ttfamily Character}}{{\ttfamily Character}}}\label{md_docs_2_architecture_autotoc_md32}
The {\bfseries{player-\/controlled}} character (knight).

Main responsibilities (as implemented/expected)\+:


\begin{DoxyItemize}
\item Reads keyboard input ({\bfseries{W/\+A/\+S/D}}) to control movement
\item Tracks player health and alive state
\item Loads and draws an equipped sword texture
\item Exposes a weapon collision rectangle (used for melee hit detection)
\end{DoxyItemize}

Key items in the header\+:
\begin{DoxyItemize}
\item {\ttfamily CHARACTER\+\_\+\+PLAYER\+\_\+\+HEALTH} — default player starting/max health
\item {\ttfamily KNIGHT\+\_\+\+WEAPON\+\_\+\+SWORD\+\_\+\+PATH} — sword sprite path
\item {\ttfamily Rectangle get\+Weapon\+Collision\+Rec()} — provides weapon hitbox for collisions
\end{DoxyItemize}\hypertarget{md_docs_2_architecture_autotoc_md33}{}\doxysubsection{\texorpdfstring{{\ttfamily Enemy}}{{\ttfamily Enemy}}}\label{md_docs_2_architecture_autotoc_md33}
An AI-\/controlled entity.

Typical responsibilities\+:


\begin{DoxyItemize}
\item Moves/updates each frame ({\ttfamily tick})
\item Has its own alive/health state
\item Interacts with the player (taking/causing damage)
\end{DoxyItemize}\hypertarget{md_docs_2_architecture_autotoc_md34}{}\doxysubsection{\texorpdfstring{{\ttfamily Prop}}{{\ttfamily Prop}}}\label{md_docs_2_architecture_autotoc_md34}
Non-\/character world objects\+:


\begin{DoxyItemize}
\item Decorations (trees, rocks)
\item Interactable objects (chests, doors)
\item Obstacles / collision objects (depending on your implementation)
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{md_docs_2_architecture_autotoc_md36}{}\doxysection{\texorpdfstring{Update Loop (Typical Frame)}{Update Loop (Typical Frame)}}\label{md_docs_2_architecture_autotoc_md36}
A common pattern in a raylib game loop\+:


\begin{DoxyEnumerate}
\item {\bfseries{Read input}} (player only)
\item {\bfseries{Update entities}}
\begin{DoxyItemize}
\item {\ttfamily Character\+::tick(delta\+Time)}
\item {\ttfamily Enemy\+::tick(delta\+Time)} (for each enemy)
\item {\ttfamily \doxylink{class_prop}{Prop}} update (if props are animated/interactable)
\end{DoxyItemize}
\item {\bfseries{Resolve interactions}}
\begin{DoxyItemize}
\item Weapon hitbox vs enemy hitboxes
\item Player vs enemy collisions
\item Player vs prop collisions (if applicable)
\end{DoxyItemize}
\item {\bfseries{Draw}}
\begin{DoxyItemize}
\item World (tiles / map)
\item Props
\item Enemies
\item Player
\item UI (health bar, debug, etc.)
\end{DoxyItemize}
\end{DoxyEnumerate}

\DoxyHorRuler{0}
\hypertarget{md_docs_2_architecture_autotoc_md38}{}\doxysection{\texorpdfstring{Coordinate Spaces}{Coordinate Spaces}}\label{md_docs_2_architecture_autotoc_md38}
It’s useful to keep a clear separation of\+:


\begin{DoxyItemize}
\item {\bfseries{World space}}\+: where entities truly are (e.\+g., map coordinates)
\item {\bfseries{Screen space}}\+: where things draw relative to the camera
\end{DoxyItemize}

In this project, the {\ttfamily \doxylink{class_character}{Character}} commonly stays {\bfseries{centered on-\/screen}}, and the world scrolls around the player. That’s why {\ttfamily \doxylink{class_character_a7c6745ff41d3d785e552e86cd8a1db30}{Character\+::get\+Screen\+Pos()}} returns a screen position (often the center of the window), while enemies/props may need conversions based on player/world offsets.

\DoxyHorRuler{0}
\hypertarget{md_docs_2_architecture_autotoc_md40}{}\doxysection{\texorpdfstring{Damage and Health (Typical Flow)}{Damage and Health (Typical Flow)}}\label{md_docs_2_architecture_autotoc_md40}
Example flow for player damage\+:


\begin{DoxyItemize}
\item Some collision / combat logic determines a hit
\item {\ttfamily \doxylink{class_character_afc49015f7f6939e39f1718686e191e3e}{Character\+::take\+Damage(float damage)}} is called
\item {\ttfamily health} decreases, and when {\ttfamily health \texorpdfstring{$<$}{<}= 0}, the player is considered not alive
\end{DoxyItemize}

Similarly for enemies, you’ll typically have\+:
\begin{DoxyItemize}
\item {\ttfamily Enemy\+::take\+Damage(...)} or equivalent
\item Alive/dead logic, remove or stop updating on death
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{md_docs_2_architecture_autotoc_md42}{}\doxysection{\texorpdfstring{Suggested Next Steps}{Suggested Next Steps}}\label{md_docs_2_architecture_autotoc_md42}

\begin{DoxyItemize}
\item Create a small {\bfseries{Collision}} helper/module for rectangle/hit logic
\item Add a lightweight {\bfseries{Game\+World}} (or similar) to manage\+:
\begin{DoxyItemize}
\item entity lists
\item collisions
\item spawning/despawning
\end{DoxyItemize}
\item Move hard-\/coded constants into a single {\ttfamily Constants.\+h} (optional) 
\end{DoxyItemize}